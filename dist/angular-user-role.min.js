"use strict";var rolesApp=angular.module("angular.user.role",[]);rolesApp.factory("securityService",["$rootScope",function(a){var b;return{ifAnyGranted:function(a,c){if(c=c||b,!c||0===c.length)return!1;var d=!1;return angular.forEach(a,function(a){c.indexOf(a)>-1&&(d=!0)}),d},loggedIn:function(c){b=c,a.$broadcast("login.state",{loggedIn:!0})},loggedOut:function(){b=void 0,a.$broadcast("login.state",{loggedIn:!1})}}}]),rolesApp.directive("ifAnyGranted",["securityService","ngIfDirective",function(a,b){var c=b[0];return{transclude:c.transclude,priority:c.priority-1,terminal:c.terminal,restrict:c.restrict,link:function(b,d,e){function f(){h=a.ifAnyGranted(e.ifAnyGranted.split(","))}var g=e.ngIf,h=!1;f();var i;i=g?function(){return b.$eval(g)&&h}:function(){return h},b.$on("login.state",function(){f()}),e.ngIf=i,c.link.apply(c,arguments)}}}]);